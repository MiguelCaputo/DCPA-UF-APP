{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof (typeof Symbol === 'function' ? Symbol.iterator : '@@iterator') === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== (typeof Symbol === 'function' ? Symbol.prototype : '@@prototype') ? \"symbol\" : typeof obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _invariant = require('fbjs/lib/invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _getScreenForRouteName = require(\"./getScreenForRouteName\");\n\nvar _getScreenForRouteName2 = _interopRequireDefault(_getScreenForRouteName);\n\nvar _createConfigGetter = require(\"./createConfigGetter\");\n\nvar _createConfigGetter2 = _interopRequireDefault(_createConfigGetter);\n\nvar _NavigationActions = require(\"../NavigationActions\");\n\nvar _NavigationActions2 = _interopRequireDefault(_NavigationActions);\n\nvar _validateRouteConfigMap = require(\"./validateRouteConfigMap\");\n\nvar _validateRouteConfigMap2 = _interopRequireDefault(_validateRouteConfigMap);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nexports.default = function (routeConfigs) {\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  (0, _validateRouteConfigMap2.default)(routeConfigs);\n  var order = config.order || Object.keys(routeConfigs);\n  var paths = config.paths || {};\n  var initialRouteName = config.initialRouteName || order[0];\n  var initialRouteIndex = order.indexOf(initialRouteName);\n  var backBehavior = config.backBehavior || 'initialRoute';\n  var shouldBackNavigateToInitialRoute = backBehavior === 'initialRoute';\n  var tabRouters = {};\n  order.forEach(function (routeName) {\n    var routeConfig = routeConfigs[routeName];\n    paths[routeName] = typeof routeConfig.path === 'string' ? routeConfig.path : routeName;\n    tabRouters[routeName] = null;\n\n    if (routeConfig.screen && routeConfig.screen.router) {\n      tabRouters[routeName] = routeConfig.screen.router;\n    }\n  });\n  (0, _invariant2.default)(initialRouteIndex !== -1, 'Invalid initialRouteName \\'' + initialRouteName + '\\' for TabRouter. ' + ('Should be one of ' + order.map(function (n) {\n    return '\"' + n + '\"';\n  }).join(', ')));\n  return {\n    getStateForAction: function getStateForAction(action, inputState) {\n      action = _NavigationActions2.default.mapDeprecatedActionAndWarn(action);\n      var state = inputState;\n\n      if (!state) {\n        var _routes = order.map(function (routeName) {\n          var tabRouter = tabRouters[routeName];\n\n          if (tabRouter) {\n            var childAction = action.action || _NavigationActions2.default.init(_extends({}, action.params ? {\n              params: action.params\n            } : {}));\n\n            return _extends({}, tabRouter.getStateForAction(childAction), {\n              key: routeName,\n              routeName: routeName\n            });\n          }\n\n          return {\n            key: routeName,\n            routeName: routeName\n          };\n        });\n\n        state = {\n          routes: _routes,\n          index: initialRouteIndex\n        };\n      }\n\n      if (action.type === _NavigationActions2.default.INIT) {\n        (function () {\n          var _action = action,\n              params = _action.params;\n\n          if (params) {\n            state.routes = state.routes.map(function (route) {\n              return _extends({}, route, {\n                params: _extends({}, route.params, params)\n              });\n            });\n          }\n        })();\n      }\n\n      var activeTabLastState = state.routes[state.index];\n      var activeTabRouter = tabRouters[order[state.index]];\n\n      if (activeTabRouter) {\n        var activeTabState = activeTabRouter.getStateForAction(action.action || action, activeTabLastState);\n\n        if (!activeTabState && inputState) {\n          return null;\n        }\n\n        if (activeTabState && activeTabState !== activeTabLastState) {\n          var _routes2 = [].concat(_toConsumableArray(state.routes));\n\n          _routes2[state.index] = activeTabState;\n          return _extends({}, state, {\n            routes: _routes2\n          });\n        }\n      }\n\n      var activeTabIndex = state.index;\n      var isBackEligible = action.key == null || action.key === activeTabLastState.key;\n\n      if (action.type === _NavigationActions2.default.BACK && isBackEligible && shouldBackNavigateToInitialRoute) {\n        activeTabIndex = initialRouteIndex;\n      }\n\n      var didNavigate = false;\n\n      if (action.type === _NavigationActions2.default.NAVIGATE) {\n        var _ret2 = function () {\n          var navigateAction = action;\n          didNavigate = !!order.find(function (tabId, i) {\n            if (tabId === navigateAction.routeName) {\n              activeTabIndex = i;\n              return true;\n            }\n\n            return false;\n          });\n\n          if (didNavigate && action.action) {\n            var tabRouter = tabRouters[action.routeName];\n            var newChildState = tabRouter ? tabRouter.getStateForAction(action.action, state.routes[activeTabIndex]) : null;\n\n            if (newChildState && newChildState !== state.routes[activeTabIndex]) {\n              var _routes3 = [].concat(_toConsumableArray(state.routes));\n\n              _routes3[activeTabIndex] = newChildState;\n              return {\n                v: _extends({}, state, {\n                  routes: _routes3,\n                  index: activeTabIndex\n                })\n              };\n            }\n          }\n        }();\n\n        if ((typeof _ret2 === 'undefined' ? 'undefined' : _typeof(_ret2)) === \"object\") return _ret2.v;\n      }\n\n      if (action.type === _NavigationActions2.default.SET_PARAMS) {\n        var lastRoute = state.routes.find(function (route) {\n          return route.key === action.key;\n        });\n\n        if (lastRoute) {\n          var params = _extends({}, lastRoute.params, action.params);\n\n          var _routes4 = [].concat(_toConsumableArray(state.routes));\n\n          _routes4[state.routes.indexOf(lastRoute)] = _extends({}, lastRoute, {\n            params: params\n          });\n          return _extends({}, state, {\n            routes: _routes4\n          });\n        }\n      }\n\n      if (activeTabIndex !== state.index) {\n        return _extends({}, state, {\n          index: activeTabIndex\n        });\n      } else if (didNavigate && !inputState) {\n        return state;\n      } else if (didNavigate) {\n        return null;\n      }\n\n      var index = state.index;\n      var routes = state.routes;\n      order.find(function (tabId, i) {\n        var tabRouter = tabRouters[tabId];\n\n        if (i === index) {\n          return false;\n        }\n\n        var tabState = routes[i];\n\n        if (tabRouter) {\n          tabState = tabRouter.getStateForAction(action, tabState);\n        }\n\n        if (!tabState) {\n          index = i;\n          return true;\n        }\n\n        if (tabState !== routes[i]) {\n          routes = [].concat(_toConsumableArray(routes));\n          routes[i] = tabState;\n          index = i;\n          return true;\n        }\n\n        return false;\n      });\n\n      if (index !== state.index || routes !== state.routes) {\n        return _extends({}, state, {\n          index: index,\n          routes: routes\n        });\n      }\n\n      return state;\n    },\n    getComponentForState: function getComponentForState(state) {\n      var routeName = order[state.index];\n      (0, _invariant2.default)(routeName, 'There is no route defined for index ' + state.index + '. Check that\\n        that you passed in a navigation state with a valid tab/screen index.');\n      var childRouter = tabRouters[routeName];\n\n      if (childRouter) {\n        return childRouter.getComponentForState(state.routes[state.index]);\n      }\n\n      return (0, _getScreenForRouteName2.default)(routeConfigs, routeName);\n    },\n    getComponentForRouteName: function getComponentForRouteName(routeName) {\n      return (0, _getScreenForRouteName2.default)(routeConfigs, routeName);\n    },\n    getPathAndParamsForState: function getPathAndParamsForState(state) {\n      var route = state.routes[state.index];\n      var routeName = order[state.index];\n      var subPath = paths[routeName];\n      var screen = (0, _getScreenForRouteName2.default)(routeConfigs, routeName);\n      var path = subPath;\n      var params = route.params;\n\n      if (screen && screen.router) {\n        var child = screen.router.getPathAndParamsForState(route);\n        path = subPath ? subPath + '/' + child.path : child.path;\n        params = child.params ? _extends({}, params, child.params) : params;\n      }\n\n      return {\n        path: path,\n        params: params\n      };\n    },\n    getActionForPathAndParams: function getActionForPathAndParams(path, params) {\n      return order.map(function (tabId) {\n        var parts = path.split('/');\n        var pathToTest = paths[tabId];\n\n        if (parts[0] === pathToTest) {\n          var tabRouter = tabRouters[tabId];\n\n          var action = _NavigationActions2.default.navigate({\n            routeName: tabId\n          });\n\n          if (tabRouter && tabRouter.getActionForPathAndParams) {\n            action.action = tabRouter.getActionForPathAndParams(parts.slice(1).join('/'), params);\n          } else if (params) {\n            action.params = params;\n          }\n\n          return action;\n        }\n\n        return null;\n      }).find(function (action) {\n        return !!action;\n      }) || order.map(function (tabId) {\n        var tabRouter = tabRouters[tabId];\n        return tabRouter && tabRouter.getActionForPathAndParams(path, params);\n      }).find(function (action) {\n        return !!action;\n      }) || null;\n    },\n    getScreenConfig: (0, _createConfigGetter2.default)(routeConfigs, config.navigationOptions)\n  };\n};","map":{"version":3,"sources":["/mnt/d/Users/Caputo/Desktop/IDEs/VSCode/CEN3031/Project/DCPA-UF-APP/App/node_modules/react-navigation/lib/routers/TabRouter.js"],"names":["Object","defineProperty","exports","value","_typeof","Symbol","iterator","obj","constructor","prototype","_extends","assign","target","i","arguments","length","source","key","hasOwnProperty","call","_invariant","require","_invariant2","_interopRequireDefault","_getScreenForRouteName","_getScreenForRouteName2","_createConfigGetter","_createConfigGetter2","_NavigationActions","_NavigationActions2","_validateRouteConfigMap","_validateRouteConfigMap2","__esModule","default","_toConsumableArray","arr","Array","isArray","arr2","from","routeConfigs","config","undefined","order","keys","paths","initialRouteName","initialRouteIndex","indexOf","backBehavior","shouldBackNavigateToInitialRoute","tabRouters","forEach","routeName","routeConfig","path","screen","router","map","n","join","getStateForAction","action","inputState","mapDeprecatedActionAndWarn","state","_routes","tabRouter","childAction","init","params","routes","index","type","INIT","_action","route","activeTabLastState","activeTabRouter","activeTabState","_routes2","concat","activeTabIndex","isBackEligible","BACK","didNavigate","NAVIGATE","_ret2","navigateAction","find","tabId","newChildState","_routes3","v","SET_PARAMS","lastRoute","_routes4","tabState","getComponentForState","childRouter","getComponentForRouteName","getPathAndParamsForState","subPath","child","getActionForPathAndParams","parts","split","pathToTest","navigate","slice","getScreenConfig","navigationOptions"],"mappings":"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","sourcesContent":["'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _typeof=typeof Symbol===\"function\"&&typeof(typeof Symbol==='function'?Symbol.iterator:'@@iterator')===\"symbol\"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==(typeof Symbol==='function'?Symbol.prototype:'@@prototype')?\"symbol\":typeof obj;};var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};\n\nvar _invariant=require('fbjs/lib/invariant');var _invariant2=_interopRequireDefault(_invariant);\nvar _getScreenForRouteName=require('./getScreenForRouteName');var _getScreenForRouteName2=_interopRequireDefault(_getScreenForRouteName);\nvar _createConfigGetter=require('./createConfigGetter');var _createConfigGetter2=_interopRequireDefault(_createConfigGetter);\n\nvar _NavigationActions=require('../NavigationActions');var _NavigationActions2=_interopRequireDefault(_NavigationActions);\nvar _validateRouteConfigMap=require('./validateRouteConfigMap');var _validateRouteConfigMap2=_interopRequireDefault(_validateRouteConfigMap);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}exports.default=\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction(\nrouteConfigs)\n\n{var config=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};\n\n(0,_validateRouteConfigMap2.default)(routeConfigs);\n\nvar order=config.order||Object.keys(routeConfigs);\nvar paths=config.paths||{};\nvar initialRouteName=config.initialRouteName||order[0];\nvar initialRouteIndex=order.indexOf(initialRouteName);\nvar backBehavior=config.backBehavior||'initialRoute';\nvar shouldBackNavigateToInitialRoute=backBehavior==='initialRoute';\nvar tabRouters={};\norder.forEach(function(routeName){\nvar routeConfig=routeConfigs[routeName];\npaths[routeName]=typeof routeConfig.path==='string'?routeConfig.path:routeName;\ntabRouters[routeName]=null;\nif(routeConfig.screen&&routeConfig.screen.router){\ntabRouters[routeName]=routeConfig.screen.router;\n}\n});\n(0,_invariant2.default)(\ninitialRouteIndex!==-1,\n'Invalid initialRouteName \\''+initialRouteName+'\\' for TabRouter. '+('Should be one of '+\norder.map(function(n){return'\"'+n+'\"';}).join(', ')));\n\nreturn{\ngetStateForAction:function getStateForAction(\naction,\ninputState)\n{\n\naction=_NavigationActions2.default.mapDeprecatedActionAndWarn(action);\n\n\nvar state=inputState;\nif(!state){\nvar _routes=order.map(function(routeName){\nvar tabRouter=tabRouters[routeName];\nif(tabRouter){\nvar childAction=action.action||_NavigationActions2.default.init(_extends({},\naction.params?{params:action.params}:{}));\n\nreturn _extends({},\ntabRouter.getStateForAction(childAction),{\nkey:routeName,\nrouteName:routeName});\n\n}\nreturn{\nkey:routeName,\nrouteName:routeName};\n\n});\nstate={\nroutes:_routes,\nindex:initialRouteIndex};\n\n\n}\n\nif(action.type===_NavigationActions2.default.INIT){(function(){var _action=\n\naction,params=_action.params;\nif(params){\nstate.routes=state.routes.map(function(route){return _extends({},\nroute,{\nparams:_extends({},\nroute.params,\nparams)});});\n\n\n}})();\n}\n\n\nvar activeTabLastState=state.routes[state.index];\nvar activeTabRouter=tabRouters[order[state.index]];\nif(activeTabRouter){\nvar activeTabState=activeTabRouter.getStateForAction(\naction.action||action,\nactiveTabLastState);\n\nif(!activeTabState&&inputState){\nreturn null;\n}\nif(activeTabState&&activeTabState!==activeTabLastState){\nvar _routes2=[].concat(_toConsumableArray(state.routes));\n_routes2[state.index]=activeTabState;\nreturn _extends({},\nstate,{\nroutes:_routes2});\n\n}\n}\n\n\n\nvar activeTabIndex=state.index;\nvar isBackEligible=action.key==null||action.key===activeTabLastState.key;\nif(\naction.type===_NavigationActions2.default.BACK&&\nisBackEligible&&shouldBackNavigateToInitialRoute)\n{\nactiveTabIndex=initialRouteIndex;\n}\nvar didNavigate=false;\nif(action.type===_NavigationActions2.default.NAVIGATE){var _ret2=function(){\nvar navigateAction=action;\ndidNavigate=!!order.find(function(tabId,i){\nif(tabId===navigateAction.routeName){\nactiveTabIndex=i;\nreturn true;\n}\nreturn false;\n});\nif(didNavigate&&action.action){\nvar tabRouter=tabRouters[action.routeName];\nvar newChildState=tabRouter?\ntabRouter.getStateForAction(action.action,state.routes[activeTabIndex]):\nnull;\nif(newChildState&&newChildState!==state.routes[activeTabIndex]){\nvar _routes3=[].concat(_toConsumableArray(state.routes));\n_routes3[activeTabIndex]=newChildState;\nreturn{v:_extends({},\nstate,{\nroutes:_routes3,\nindex:activeTabIndex})};\n\n}\n}}();if((typeof _ret2==='undefined'?'undefined':_typeof(_ret2))===\"object\")return _ret2.v;\n}\nif(action.type===_NavigationActions2.default.SET_PARAMS){\nvar lastRoute=state.routes.find(\n\nfunction(route){return route.key===action.key;});\n\nif(lastRoute){\nvar params=_extends({},\nlastRoute.params,\naction.params);\n\nvar _routes4=[].concat(_toConsumableArray(state.routes));\n_routes4[state.routes.indexOf(lastRoute)]=_extends({},\nlastRoute,{\nparams:params});\n\nreturn _extends({},\nstate,{\nroutes:_routes4});\n\n}\n}\nif(activeTabIndex!==state.index){\nreturn _extends({},\nstate,{\nindex:activeTabIndex});\n\n}else if(didNavigate&&!inputState){\nreturn state;\n}else if(didNavigate){\nreturn null;\n}\n\n\nvar index=state.index;\n\nvar routes=state.routes;\norder.find(function(tabId,i){\nvar tabRouter=tabRouters[tabId];\nif(i===index){\nreturn false;\n}\nvar tabState=routes[i];\nif(tabRouter){\n\ntabState=tabRouter.getStateForAction(action,tabState);\n}\nif(!tabState){\nindex=i;\nreturn true;\n}\nif(tabState!==routes[i]){\nroutes=[].concat(_toConsumableArray(routes));\nroutes[i]=tabState;\nindex=i;\nreturn true;\n}\nreturn false;\n});\n\n\nif(index!==state.index||routes!==state.routes){\nreturn _extends({},\nstate,{\nindex:index,\nroutes:routes});\n\n}\nreturn state;\n},\n\ngetComponentForState:function getComponentForState(state){\nvar routeName=order[state.index];\n(0,_invariant2.default)(\nrouteName,'There is no route defined for index '+\nstate.index+'. Check that\\n        that you passed in a navigation state with a valid tab/screen index.');\n\n\nvar childRouter=tabRouters[routeName];\nif(childRouter){\nreturn childRouter.getComponentForState(state.routes[state.index]);\n}\nreturn(0,_getScreenForRouteName2.default)(routeConfigs,routeName);\n},\n\ngetComponentForRouteName:function getComponentForRouteName(routeName){\nreturn(0,_getScreenForRouteName2.default)(routeConfigs,routeName);\n},\n\ngetPathAndParamsForState:function getPathAndParamsForState(state){\nvar route=state.routes[state.index];\nvar routeName=order[state.index];\nvar subPath=paths[routeName];\nvar screen=(0,_getScreenForRouteName2.default)(routeConfigs,routeName);\nvar path=subPath;\nvar params=route.params;\nif(screen&&screen.router){\n\n\nvar child=screen.router.getPathAndParamsForState(route);\npath=subPath?subPath+'/'+child.path:child.path;\nparams=child.params?_extends({},params,child.params):params;\n}\nreturn{\npath:path,\nparams:params};\n\n},\n\n\n\n\n\n\ngetActionForPathAndParams:function getActionForPathAndParams(path,params){\nreturn order.map(function(tabId){\nvar parts=path.split('/');\nvar pathToTest=paths[tabId];\nif(parts[0]===pathToTest){\nvar tabRouter=tabRouters[tabId];\nvar action=_NavigationActions2.default.navigate({\nrouteName:tabId});\n\nif(tabRouter&&tabRouter.getActionForPathAndParams){\naction.action=tabRouter.getActionForPathAndParams(parts.slice(1).join('/'),params);\n}else if(params){\naction.params=params;\n}\nreturn action;\n}\nreturn null;\n}).find(function(action){return!!action;})||order.map(function(tabId){\nvar tabRouter=tabRouters[tabId];\nreturn tabRouter&&tabRouter.getActionForPathAndParams(path,params);\n}).find(function(action){return!!action;})||null;\n},\n\ngetScreenConfig:(0,_createConfigGetter2.default)(routeConfigs,config.navigationOptions)};\n\n};"]},"metadata":{},"sourceType":"script"}